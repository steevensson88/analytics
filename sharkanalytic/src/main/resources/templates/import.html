<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>SharkAnalityc</title>

<link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.min.css" />
<script src="js/demo-rtl.js"></script>
<link rel="stylesheet" type="text/css" href="css/libs/font-awesome.css" />
<link rel="stylesheet" type="text/css" href="css/libs/nanoscroller.css" />
<link rel="stylesheet" type="text/css" href="css/compiled/theme_styles.css" />
<link rel="stylesheet" href="css/libs/daterangepicker.css" type="text/css" />
<link rel="stylesheet" href="css/libs/jquery-jvectormap-1.2.2.css" type="text/css" />
<link rel="stylesheet" href="css/libs/weather-icons.css" type="text/css" />
<link type="image/x-icon" href="favicon.png" rel="shortcut icon" />

</head>
<body>
	<div id="theme-wrapper">
		<header class="navbar" id="header-navbar"> </header>
		<div id="page-wrapper" class="container">
			<div class="row">
				<div id="nav-col">

					<section id="col-left" class="col-left-nano"></section>

					<div id="nav-col-submenu"></div>
				</div>
				<div id="content-wrapper">

					<div class="row">
						<div class="col-lg-12">
							<div class="row">
								<div class="col-lg-12">
									<div id="content-header" class="clearfix">
										<div class="pull-left">
											<ol class="breadcrumb">
												<li><a href="#">Home</a></li>
												<li class="active"><span>Nouvelle importation</span></li>
											</ol>
											<h1>Nouvelle importation</h1>
										</div>
										
										<div class="alert alert-success fade in pull-right" hidden="true" id="div_succes">
									     <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
									     <i class="fa fa-check-circle fa-fw fa-lg"></i>
									     <span id="succes"></span>
									    </div>
									    
									    <div class="alert alert-danger fade in pull-right" hidden="true" id="div_error">
									     <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
									     <i class="fa fa-times-circle fa-fw fa-lg"></i>
									     <span id="error"></span>
									    </div>
									</div>
									
								</div>
							</div>
							<div class="row">
								<div class="row">
									<div class="col-lg-6">
										<div class="main-box">
											<header class="main-box-header clearfix">
												<h2>Choisir un fichier</h2>
											</header>
											<div class="main-box-body clearfix">
												<form action="/postFile" role="form" method="post" enctype="multipart/form-data" class="sharkform">
													<div class="form-group">
														<input type="file" name="fichier" />
													</div>
													<div class="form-group">
														<div class="col-lg-10">
															<button type="submit" class="btn btn-success">Importer</button>
														</div>
													</div>
												</form>
											</div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-lg-12">
										<div class="main-box clearfix">
											<header class="main-box-header clearfix">
												<h2>Liste des clients</h2>
											</header>
											<div class="main-box-body clearfix">
												<div class="table-responsive">
													<table id="table-example-fixed" class="table table-hover">
														<thead>
															<tr>
																<th>Client</th>
																<th>Numéro de compte</th>
																<th>Solde</th>
																<th>Montant</th>
																<th>Date</th>
															</tr>
														</thead>
														<tbody>
															<tr>
																<td></td>
																<td></td>
																<td></td>
																<td></td>
																<td></td>
															</tr>
														</tbody>
													</table>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<footer id="footer-bar" class="row">
						<p id="footer-copyright" class="col-xs-12">Tout droit reservé
						</p>
					</footer>

				</div>
			</div>
		</div>
	</div>

	<script src="js/jquery.js"></script>
	<script src="js/sharkanalytic.js"></script>
	<script>
	 loadMenu();
	 loadHeader();
	</script>

	<script src="js/jquery.dataTables.js"></script>
	<script src="js/dataTables.fixedHeader.js"></script>
	<script src="js/dataTables.tableTools.js"></script>
	<script src="js/jquery.dataTables.bootstrap.js"></script>
	<script>
		function loadData() {
			var req = $.ajax({
				url : '/listClients',
				type : "GET",
				dataType : "json"
			});
			req.done(function(data) {
				var tableFixed = $('#table-example-fixed').dataTable({
					'info' : false,
					'pageLength' : 50,
					'aaData' : data,
					'aoColumns' : [ {
						'mDataProp' : 'nom_client'
					}, {
						'mDataProp' : 'num_compte_client'
					}, {
						'mDataProp' : 'montant_compte'
					}, {
						'mDataProp' : 'solde_compte'
					}, {
						'mDataProp' : 'datecreation',render: function (data) {
					        var date = new Date(data);
					        var month = date.getMonth() + 1;
					        return date.getDate() + "/" + (month.length > 1 ? month : "0" + month) + "/" + date.getFullYear();
					    }
					} ]
				});
				new $.fn.dataTable.FixedHeader(tableFixed);
			});
		}
		loadData();
	</script>

</body>
</html>